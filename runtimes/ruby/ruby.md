---
title: Deploy Ruby on Rails apps
shortdesc: Ruby on Rails is an open source web application framework which runs on the Ruby programming language.
---

# Deploy Ruby on Rails applications

Clever Cloud allows you to deploy any Ruby on Rails application. This page will
explain you how to set up your application to run it on our service.

You do not need to change a lot in your application, the *requirements* will help you configure your applications with some mandatory files to add, and properties to setup.

## Overview


Ruby on Rails is an open source web application framework which runs on the Ruby programming language. It is a full-stack framework: it allows creating pages and applications that gather information from the web server, talk to or query the database, and render templates out of the box. As a result, Rails features a routing system that is independent of the web server.


## Create an application

1. Create a new app by clicking on the **Add an App** button, in the headbar. 
2. Enter your application's name and description and click "Next".
<figure class="cc-content-img">
  <img src="/assets/images/screens/ruby/ruby_create.png"/>
</figure>
3. Then select the language/framework:  <figure class="cc-content-img"><img src="/assets/images/javawarapp.png"></figure>
4. Check that the information are correct and validate: <figure class="cc-content-img"><img src="/assets/images/screens/ruby/ruby_validation.png"/></figure>
5. *Optional*: <a href="/addons/add-an-addon/">add an add-on</a>

## Necessary information

Be sure that:

* you push in <b>master branch</b>

* you commit your <strong>Gemfile.lock</strong> file

* you have a <strong>config.ru</strong> file (This one is most of the time generated by rails)

## Requirements

First, your application must use rack. This implies that a config.ru
file is present.

Then, you need to provide a Gemfile.lock. To do that, please run:

```bash
.../myapp $ bundle install ## That will generate Gemfile.lock
.../myapp $ git add Gemfile.lock
.../myapp $ git commit -m "Add production dependency file"
```

## More configuration

You can configure your deployment via the `clevercloud/ruby.json`
configration file. This file is optional.

### Choose ruby version

```javascript
{
  "deploy" : {
    "rubyversion": "<ver>"
  }
}
```

`rubyversion` must be a string. The given string is tested against the
available versions by using the /^<ver>/ regexp.

 * "2" will select the greatest "2.X.Y" version available.
 * "2.0" will select the greatest "2.0.Y" version available.
 * "2.0.0-p481" will select the "2.0.0-p481" version.

If given `rubyversion` does not match any available version, your
deployment will fail.

If you need a version that is not yet installed, please contact the
support to ask for the version to be added. We try to follow the
releases, but, hey, we're human!

Due to current landscape in ruby applications, the default version is the
greatest 2.0.Y.

### Set deployment RUBY_ENV and rake goals to execute

```javascript
{
  "deploy" : {
    "env": "<string>",
    "rakegoals": [<string>]
  }
}
```

The following table describe each field:

<table id="nodedeps" class="table table-bordered table-striped">
	<thead>
		<tr>
			<th>Usage</th>
			<th>Field</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
		<td><span class="label label-inverse">Optional</span></td>
		<td>deploy.env</td>
		<td>This is the value of the RAILS_ENV variable used when
		bundle-ing the app. The default value is *production*</td>
		</tr>
		<tr>
		<td><span class="label label-inverse">Optional</span></td>
		<td>deploy.rakegoals</td>
		<td>This is an array of string setting the rake goals to run
		during the deployment. E.g. "db:migrate". rake {thegoal} will be
		run for each goal. </td>
		</tr>
	</tbody>
</table>

### Manage your static files

You are able to use a Filesystem Bucket to store your static files. Please refer to the [File System Buckets](/addons/clever-cloud-addons/#fs-buckets-file-system-with-persistance/) section.

When your bucket is available, to enable Nginx to serve your static resources you must set your public folder in `clevercloud/ruby.json` like below:

```haskell
   {
      "deploy": {
         "static": "/mypublicfolder"
      }
   }
```

*Note: the path of your folder must be absolute regarding the root of your application.*

## Environment injection

Clever Cloud can inject environment variables that are defined in the
dashboard and by add-ons linked to your application.

To access your variable in your application, nothing simpler! Just get
it from your environment, like you would with `PATH`:
`ENV["MY_VARIABLE"]`.

## Deploy on Clever Cloud

Application deployment on Clever Cloud is via Git. Follow [these steps](/clever-cloud-overview/add-application/) to deploy your application.
